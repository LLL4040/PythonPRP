{% extends "base.html" %}

{% block css %}
<style type="text/css">
    table.hovertable 
    {
        font-family: verdana,arial,sans-serif;
        font-size:11px;
        color:#333333;
        border-width: 1px;
        border-color: #999999;
        border-collapse: collapse;
    }
    table.hovertable th 
    {
        background-color:#c3dde0;
        border-width: 1px;
        padding: 8px;
        border-style: solid;
        border-color: #a9c6c9;
    }
    table.hovertable tr 
    {
        background-color:#d4e3e5;
    }
    table.hovertable td 
    {
        border-width: 1px;
        padding: 8px;
        border-style: solid;
        border-color: #a9c6c9;
    }
</style>
{% endblock %}

{% block showResults %}

<div role="tabpanel" class="tab-pane" id="results">
    <div class="check-div form-inline" align="center">
        <button class="btn btn-yellow btn-sm" type="button" id="show" @click="showResults()">显示</button>
        <button class="btn btn-yellow btn-sm" type="button" id="download">下载</button>
        <p id="warning" style="color:red;font-size:15px;">{{ warning }}</p>
    </div>

    {% verbatim %}
    <div>
        <li v-for="x in message">
          {{x}}
        </li>
    </div>
    {% endverbatim %}

    <table class="hovertable" align="center">
        <tr>
            <th>序号</th><th>学号</th><th>姓名</th><th>院系</th><th>专业</th><th>年级</th><th>毕业时间</th>
            <th>学籍状态</th><th>不及格门数</th><th>目前修读核心课程学分</th><th>暂未修读课程</th>
            <th>修读完某一方向</th><th>其他方向总学分</th><th>人文、社科、自然、计算机、体育、两课、英语</th>
            <th>软件工程职业素养，SE112</th><th>软件产品设计与用户体验，SE418</th>
            <th>企业软件质量保证，SE419</th><th>软件知识产权保护，SE420</th><th>企业软件过程与管理，SE422</th>
            <th>软件工程经济学，SE417</th><th>操作系统，SE315</th><th>工程实践与科技创新，EI901</th>
        </tr>

        <script type="text/javascript">
            no = 1;
        </script>
        {% for student in data %}
        <tr onmouseover="this.style.backgroundColor='#ffff66';" onmouseout="this.style.backgroundColor='#d4e3e5';">
            <script type="text/javascript">
                var str = "<td>" + no + "</td>";
                document.write(str);
                no = no + 1;
            </script>
            <td>{{ student.student_ID }}</td>
            <td>{{ student.name }}</td>
            <td>{{ student.department }}</td>
            <td>{{ student.major }}</td>
            <td>{{ student.grade }}</td>
            <td>{{ student.graduate_time }}</td>
            <td>{{ student.student_status }}</td>
            <td>{{ student.failed_number }}</td>
            <td>{{ student.center_credits }}</td>
            <td>{{ student.courses_must_to_take }}</td>
            <td>{{ student.one_direction }}</td>
            <td>{{ student.another_direction }}</td>
            <td>{{ student.general_courses }}</td>
            <td>{{ student.others.SE112 }}</td>
            <td>{{ student.others.SE418 }}</td>
            <td>{{ student.others.SE419 }}</td>
            <td>{{ student.others.SE420 }}</td>
            <td>{{ student.others.SE422 }}</td>
            <td>{{ student.others.SE417 }}</td>
            <td>{{ student.others.SE315 }}</td>
            <td>{{ student.others.EI901 }}</td>
        </tr>
        {% endfor %}


    </table>

</div>
{% endblock %}

{% block settings %}
<div role="tabpanel" class="tab-pane active" id="settings">
    <div class="check-div form-inline"></div>
    <div class="data-div">
        <div class="row tableHeader">
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" align="center">编号</div>
            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">名称</div>
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" align="center">操作</div>
        </div>
        <div class="tablebody">
            <!--额外审核清单-->
            <div class="row">
                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" align="center">1</div>
                <div id="topBD" class="col-lg-5 col-md-5 col-sm-5 col-xs-5" role="button" data-toggle="collapse" data-parent="#accordion" href="#extra" aria-expanded="false">
                    <span id="topB" class="glyphicon  glyphicon-triangle-right"></span> 
                    <span>额外审核的课程清单</span>
                </div>
            </div>
            <div id="extra" class="collapse" aria-expanded="false">
                <table class="table table-hover" v-cloak>
                    <thead>
                        <tr>
                            <th class="text-center" >课程代码</th>
                            <th class="text-center" >课程名称</th>                                  
                            <th class="text-center" >操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% verbatim %}
                        <tr v-for="ext in exts">
                            <td class="text-center">{{ext.id}}</td>
                            <td class="text-center">{{ext.name}}</td>
                            <td class="text-center">
                                <button type="button" class="btn btn-danger" @click="delExt(ext.id)">删除</button>
                            </td>
                        </tr>
                        {% endverbatim %}
                    </tbody>
                </table>
                
                <div id="add-extra">
                    <legend>添加课程</legend>
                    <div class="form-group">
                        <label>课程代码</label>
                        <input type="text" class='form-control' v-model="ext.id">
                        <label>课程名称</label>
                        <input type="text" class='form-control' v-model="ext.name">
                    </div>
                    <button class="btn btn-primary btn-block" @click="addExt()">添加</button>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}